---
import Footer from "../components/Footer.astro";
import Navbar from "../components/Navbar.astro";

async function getUsers() {
  const response = await fetch("https://randomuser.me/api/?results=6");
  const data = await response.json();
  return data.results;
}

const users = await getUsers();

const comments = [
    "Una experiencia increíble, totalmente recomendable.",
    "El diseño y la organización han sido excelentes.",
    "Me encantó la ambientación y la facilidad de uso.",
    "Una plataforma muy intuitiva y bien diseñada.",
    "Eventos únicos y muy bien gestionados.",
    "Sin duda volvería a participar."
];
---
<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Comunidad</title>
    </head>

    <body class="min-h-screen flex flex-col">
        <Navbar />

        <section class="bg-linear-to-b from-[#7b3f00]/10 via-[#fff7d6] to-[#e6d9a6] py-10">
            <div class="max-w-5xl mx-auto px-6">
                <h2 class="text-4xl font-extrabold text-center text-yellow-600 mb-12">Comunidad</h2>
                <p class="text-center text-gray-700 max-w-3xl mx-auto mb-12 text-lg">
                    Descubre lo que opinan algunos de los asistentes recientes que han
                    participado en nuestros eventos.
                </p>

                <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6">
                    {users.map((user, index) => (
                        <div class="flex flex-col items-center bg-[#fafafa] 
                        p-6 rounded-xl shadow-lg border border-gray-200 h-full hover:shadow-xl hover:scale-[1.03]
                        transform transition duration-300">
                            <img class="w-full h-48 object-cover mb-4 rounded border border-gray-200" src={user.picture.large} />
                            <h3 class="text-2xl font-bold text-yellow-600 text-center mb-2">{user.name.first}</h3>
                            <p class="text-gray-900 font-semibold mb-4 text-center">{comments[index]}</p>
                        </div>
                    ))}
                </div>
            </div>
        </section>

        <Footer />
    </body>
</html>