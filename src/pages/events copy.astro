<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Venta de Entradas - Isla de Astro</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f5f5f5;
      margin: 0;
      padding: 20px;
    }

    h1 {
      text-align: center;
      color: #2a5298;
    }

    .tickets {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 20px;
      margin-top: 30px;
    }

    .ticket {
      background: white;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      width: 250px;
      padding: 20px;
      text-align: center;
    }

    .ticket h3 {
      margin-bottom: 10px;
      color: #333;
    }

    .ticket p {
      font-size: 0.9rem;
      color: #666;
      margin-bottom: 15px;
    }

    .ticket select {
      padding: 5px;
      margin-bottom: 15px;
    }

    .ticket button {
      padding: 10px 20px;
      background: #2a5298;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      transition: background 0.3s ease;
    }

    .ticket button:disabled {
      background: #ccc;
      cursor: not-allowed;
    }

    .ticket button:hover:not(:disabled) {
      background: #1e3c72;
    }

    .stock {
      font-size: 0.9rem;
      margin-top: 10px;
      color: #444;
    }
  </style>
</head>

<body>

  <h1>Venta de Entradas - Isla de Astro</h1>

  <div class="tickets" id="tickets-container"></div>

  <script>
    // Datos dinámicos de entradas
    const entradas = [
      { tipo: "VIP", precio: 120, stock: 5 },
      { tipo: "General", precio: 60, stock: 10 },
      { tipo: "Early Bird", precio: 40, stock: 3 }
    ];

    const container = document.getElementById("tickets-container");

    // Render dinámico de entradas
    entradas.forEach((entrada, index) => {
      const card = document.createElement("div");
      card.className = "ticket";

      card.innerHTML = `
        <h3>${entrada.tipo}</h3>
        <p>Precio: €${entrada.precio}</p>
        <label>Cantidad:</label>
        <select id="cantidad-${index}">
          ${Array.from({length: entrada.stock}, (_, i) => `<option value="${i+1}">${i+1}</option>`).join("")}
        </select>
        <button id="btn-${index}">Comprar</button>
        <div class="stock">Stock disponible: <span id="stock-${index}">${entrada.stock}</span></div>
      `;

      container.appendChild(card);

      const btn = document.getElementById(`btn-${index}`);
      const stockLabel = document.getElementById(`stock-${index}`);
      const cantidadSelect = document.getElementById(`cantidad-${index}`);

      btn.addEventListener("click", () => {
        const cantidad = parseInt(cantidadSelect.value);
        if (entrada.stock >= cantidad) {
          entrada.stock -= cantidad;
          stockLabel.textContent = entrada.stock;

          // Actualizar opciones del select
          cantidadSelect.innerHTML = Array.from({length: entrada.stock}, (_, i) => `<option value="${i+1}">${i+1}</option>`).join("");

          if (entrada.stock === 0) {
            btn.disabled = true;
          }

          alert(`Has comprado ${cantidad} entrada(s) ${entrada.tipo}. ¡Gracias!`);
        }
      });
    });
  </script>

</body>
</html>
